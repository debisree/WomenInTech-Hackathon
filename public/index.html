<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ADHD Screening Test</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <nav id="top-nav" class="top-nav hidden">
    <div class="nav-brand">ADHD Screening</div>
    <div class="nav-links">
      <button class="nav-btn active" data-target="screen-welcome" id="nav-home">Home</button>
      <button class="nav-btn" data-target="screen-demographics" id="nav-info">My Info</button>
      <button class="nav-btn" data-target="screen-tests" id="nav-tests">Tests</button>
      <button class="nav-btn nav-logout" id="nav-logout">Logout</button>
    </div>
  </nav>

  <div id="app">

    <div id="screen-login" class="screen active">
      <div class="card login-card">
        <div class="logo">
          <div class="logo-icon">&#9881;</div>
          <h1>ADHD Screening</h1>
          <p class="subtitle">Likelihood Analysis Tool</p>
        </div>
        <form id="login-form">
          <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username" placeholder="Enter your name" autocomplete="off">
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" placeholder="Enter password">
          </div>
          <button type="submit" class="btn btn-primary btn-full">Sign In</button>
          <div class="divider"><span>or</span></div>
          <button type="button" id="guest-btn" class="btn btn-outline btn-full">Continue as Guest</button>
        </form>
        <p id="login-error" class="error-text"></p>
      </div>
    </div>

    <div id="screen-welcome" class="screen">
      <div class="card welcome-card">
        <div class="welcome-icon">&#128075;</div>
        <h1>Welcome, <span id="welcome-name"></span>!</h1>
        <p class="welcome-text">You are about to take an ADHD likelihood screening. This process involves a few simple steps before you begin the tests.</p>
        <div class="steps-preview">
          <div class="step-item" id="step-consent">
            <div class="step-num">1</div>
            <span>Consent Agreement</span>
            <span class="step-status" id="step-consent-status"></span>
          </div>
          <div class="step-item">
            <div class="step-num">2</div>
            <span>Basic Information</span>
            <span class="step-status" id="step-info-status"></span>
          </div>
          <div class="step-item">
            <div class="step-num">3</div>
            <span>Take Screening Tests</span>
          </div>
        </div>
        <button id="welcome-continue" class="btn btn-primary btn-full">Let's Get Started</button>
      </div>
    </div>

    <div id="screen-consent" class="screen">
      <div class="card consent-card">
        <h1>Consent Agreement</h1>
        <p class="consent-subtitle">Please read and acknowledge the following before proceeding.</p>
        <div class="consent-box">
          <div class="consent-item">
            <div class="consent-icon">&#9989;</div>
            <p>I confirm that I am an <strong>adult aged 18 years or older</strong>.</p>
          </div>
          <div class="consent-item">
            <div class="consent-icon">&#9989;</div>
            <p>I understand that this screening tool provides a <strong>likelihood analysis only</strong> and is <strong>not a medical diagnosis</strong>.</p>
          </div>
          <div class="consent-item">
            <div class="consent-icon">&#9989;</div>
            <p>I understand that the results of this screening should <strong>not replace professional medical advice</strong>, diagnosis, or treatment.</p>
          </div>
          <div class="consent-item">
            <div class="consent-icon">&#9989;</div>
            <p>I acknowledge that I am taking this test <strong>voluntarily</strong> for informational purposes.</p>
          </div>
        </div>
        <div class="consent-check">
          <label class="checkbox-label">
            <input type="checkbox" id="consent-checkbox">
            <span class="checkmark"></span>
            <span>I have read and agree to all the above statements</span>
          </label>
        </div>
        <button id="consent-continue" class="btn btn-primary btn-full" disabled>I Agree & Continue</button>
      </div>
    </div>

    <div id="screen-demographics" class="screen">
      <div class="card demographics-card">
        <h1>Tell Us About Yourself</h1>
        <p class="demo-subtitle">This information helps contextualize your screening results. You can update this anytime.</p>
        <form id="demographics-form">
          <div class="form-group">
            <label>Gender</label>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="gender" value="Female">
                <span class="radio-btn"></span>
                <span>Female</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="gender" value="Male">
                <span class="radio-btn"></span>
                <span>Male</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="gender" value="Non-binary">
                <span class="radio-btn"></span>
                <span>Non-binary</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="gender" value="Prefer not to say">
                <span class="radio-btn"></span>
                <span>Prefer not to say</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label>Age Group</label>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="ageGroup" value="18-25">
                <span class="radio-btn"></span>
                <span>18 - 25</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="ageGroup" value="26-35">
                <span class="radio-btn"></span>
                <span>26 - 35</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="ageGroup" value="36-45">
                <span class="radio-btn"></span>
                <span>36 - 45</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="ageGroup" value="46-55">
                <span class="radio-btn"></span>
                <span>46 - 55</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="ageGroup" value="56-65">
                <span class="radio-btn"></span>
                <span>56 - 65</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="ageGroup" value=">65">
                <span class="radio-btn"></span>
                <span>> 65</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label>Ethnicity</label>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="ethnicity" value="White">
                <span class="radio-btn"></span>
                <span>White</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="ethnicity" value="Black">
                <span class="radio-btn"></span>
                <span>Black</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="ethnicity" value="Pacific Islander">
                <span class="radio-btn"></span>
                <span>Pacific Islander</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="ethnicity" value="Asian">
                <span class="radio-btn"></span>
                <span>Asian</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="ethnicity" value="South Asian">
                <span class="radio-btn"></span>
                <span>South Asian</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="ethnicity" value="Two or More Races">
                <span class="radio-btn"></span>
                <span>Two or More Races</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="ethnicity" value="Other">
                <span class="radio-btn"></span>
                <span>Other</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label>Have you ever been diagnosed with ADHD?</label>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="adhdDiagnosed" value="Yes">
                <span class="radio-btn"></span>
                <span>Yes</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="adhdDiagnosed" value="No">
                <span class="radio-btn"></span>
                <span>No</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="adhdDiagnosed" value="Not sure">
                <span class="radio-btn"></span>
                <span>Not sure</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="adhdDiagnosed" value="Prefer not to say">
                <span class="radio-btn"></span>
                <span>Prefer not to say</span>
              </label>
            </div>
          </div>

          <p id="demo-saved-msg" class="success-text"></p>
          <button type="submit" class="btn btn-primary btn-full" id="demo-submit" disabled>Save & Continue to Tests</button>
        </form>
      </div>
    </div>

    <div id="screen-tests" class="screen">
      <div class="card tests-card">
        <h1>Screening Tests</h1>
        <p class="tests-subtitle">Please complete the following tests. Each one takes only a few minutes.</p>
        <div class="test-list">
          <div class="test-card" id="test-1-card">
            <div class="test-info">
              <div class="test-badge">Test 1</div>
              <h3>Time Perception Challenge</h3>
              <p>Estimate time intervals to measure your internal clock consistency.</p>
              <p class="test-status" id="test1-status"></p>
            </div>
            <button class="btn btn-primary" id="start-test-1">Start Test</button>
          </div>
          <div class="test-card" id="test-2-card">
            <div class="test-info">
              <div class="test-badge">Test 2</div>
              <h3>Coming Soon</h3>
              <p>This test will be available shortly.</p>
            </div>
            <button class="btn btn-outline" disabled>Not Available</button>
          </div>
        </div>
      </div>
    </div>

    <div id="screen-tp-intro" class="screen">
      <div class="card tp-card">
        <h1>Time Perception Challenge</h1>
        <p class="tp-subtitle">This test measures how accurately you can estimate time intervals using your internal sense of time.</p>
        <div class="tp-instructions">
          <div class="tp-instruction-item">
            <strong>How it works:</strong>
            <p>You will see a target time (e.g., "12 seconds"). Press START, wait until you think that amount of time has passed, then press STOP.</p>
          </div>
          <div class="tp-instruction-item">
            <strong>Important rules:</strong>
            <ul>
              <li>Do NOT count in your head (e.g., "one-Mississippi...")</li>
              <li>Do NOT use any external timers, clocks, or watches</li>
              <li>Just rely on your gut feeling of how long the time is</li>
            </ul>
          </div>
          <div class="tp-instruction-item">
            <strong>Test structure:</strong>
            <p>2 practice trials (not scored) followed by 8 scored trials. No feedback is given between trials.</p>
          </div>
        </div>
        <div class="tp-disclaimer">
          This is not a diagnosis. Results may be influenced by sleep, stress, caffeine, or medications. Consider validated screeners and consult a clinician for professional assessment.
        </div>
        <button id="tp-begin" class="btn btn-primary btn-full">Begin Test</button>
      </div>
    </div>

    <div id="screen-tp-trial" class="screen">
      <div class="card tp-trial-card">
        <div class="tp-progress">
          <span id="tp-trial-label">Practice 1 of 2</span>
          <div class="tp-progress-bar">
            <div class="tp-progress-fill" id="tp-progress-fill"></div>
          </div>
        </div>
        <div class="tp-target">
          <span>Target Time</span>
          <div class="tp-target-time" id="tp-target-time">12 seconds</div>
        </div>
        <div class="tp-status" id="tp-status">Press START when ready</div>
        <div class="tp-buttons">
          <button id="tp-start-btn" class="btn btn-primary tp-action-btn">START</button>
          <button id="tp-stop-btn" class="btn btn-primary tp-action-btn tp-stop" disabled>STOP</button>
        </div>
      </div>
    </div>

    <div id="screen-tp-results" class="screen">
      <div class="card tp-results-card">
        <h1>Your Results</h1>
        <div class="tp-score-circle" id="tp-score-circle">
          <span class="tp-score-num" id="tp-score-num">--</span>
          <span class="tp-score-label">Time Control Score</span>
        </div>
        <div class="tp-category" id="tp-category">--</div>
        <div class="tp-metrics">
          <div class="tp-metric">
            <span class="tp-metric-label">Mean Absolute Error</span>
            <span class="tp-metric-value" id="tp-mae">--</span>
          </div>
          <div class="tp-metric">
            <span class="tp-metric-label">Error Variability</span>
            <span class="tp-metric-value" id="tp-variability">--</span>
          </div>
          <div class="tp-metric">
            <span class="tp-metric-label">Bias</span>
            <span class="tp-metric-value" id="tp-bias">--</span>
          </div>
        </div>
        <div class="tp-table-wrap">
          <table class="tp-table" id="tp-results-table">
            <thead>
              <tr><th>#</th><th>Target (s)</th><th>Your Time (s)</th><th>Abs Error (s)</th></tr>
            </thead>
            <tbody id="tp-results-tbody"></tbody>
          </table>
        </div>
        <div class="tp-disclaimer">
          This is not a diagnosis. Results may be influenced by sleep, stress, caffeine, or medications. Consider validated screeners and consult a clinician for professional assessment.
        </div>
        <div class="tp-result-actions">
          <button id="tp-retake" class="btn btn-outline">Retake Test</button>
          <button id="tp-back-tests" class="btn btn-primary">Back to Tests</button>
        </div>
      </div>
    </div>

  </div>

  <script src="app.js"></script>
  <script src="time-perception.js"></script>
</body>
</html>
